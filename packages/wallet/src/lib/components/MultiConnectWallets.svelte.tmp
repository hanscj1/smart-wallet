<script lang="ts">
  // Dapp side code...
  
  import { walletConnectStore } from '$lib/plugins/network/walletConnectStore.js';

  async function connectInjectedProvider() {
    if (window.ethereum) {
      try {
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const chainId = await window.ethereum.request({ method: 'eth_chainId' });
        console.log('Connected with chainId:', chainId);
        console.log('Accounts:', accounts);
      } catch (error) {
        console.error('Error connecting to injected provider:', error);
      }
    } else {
      console.error('No injected provider detected');
    }
  }

  async function connectWalletConnect() {
    await $walletConnectStore.connect();
  }
</script>

<button on:click={connectInjectedProvider}>Connect with Injected Provider</button>
<button on:click={connectWalletConnect}>Connect with WalletConnect</button>
